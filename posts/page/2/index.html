<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Two Cold</title><meta name=keywords content><meta name=description content="Two Cold description"><meta name=author content="vdorchan"><link rel=canonical href=https://vdorchan.github.io/posts/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.min.04512c372388e08b5118f5b117b2d3efef4ddae52017e16085c8d8d4e361c43d.css integrity="sha256-BFEsNyOI4ItRGPWxF7LT7+9N2uUgF+FghcjY1ONhxD0=" rel="preload stylesheet" as=style><link rel=icon href=https://vdorchan.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://vdorchan.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://vdorchan.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://vdorchan.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://vdorchan.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.81.0"><link rel=alternate type=application/rss+xml href=https://vdorchan.github.io/posts/index.xml><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-123-45','auto'),ga('send','pageview'))</script><meta property="og:title" content="Posts"><meta property="og:description" content="Two Cold description"><meta property="og:type" content="website"><meta property="og:url" content="https://vdorchan.github.io/posts/"><meta property="og:image" content><meta property="og:site_name" content="Two Cold"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content><meta name=twitter:title content="Posts"><meta name=twitter:description content="Two Cold description"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://vdorchan.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://vdorchan.github.io/ accesskey=h title="Two Cold (Alt + H)">Two Cold</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://vdorchan.github.io/archive/ title=Archive><span>Archive</span></a></li><li><a href=https://vdorchan.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://vdorchan.github.io/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://vdorchan.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>git 提示无法 pull 仓库（refusing-to-merge-unrelated-histories）</h2></header><section class=entry-content><p>背景 在本地完成了一个项目，并使用 git 完成了初始化。
然后想同步到 github 上去，便在 github 上 new repository 创建了一个新的库，并勾选了 Initialize this repository with a README，也就是这个仓库初始化的时候将自动带有一个 Readme.md 文件。
在 github 上创建好 repo 后，接下来的操作自然是将本地仓库 push 到远程仓库上。
因为 github 上的 repo 带有 Readme.md，而本地的没有，所以就需要先将 github 上的 pull 下来。
在执行 git pull 命令后，便出现了一条合并失败的提示。
fatal: refusing to merge unrelated histories 提示的意思是，拒绝合并不相关的历史。
解决 Google 了一下后得知，两个仓库（本地和远程）都有 commit，但是却没有相关联的 commit，因此 git 认为用户应该是填错了 origin，两个仓库并无关联。
这个时候只要给命令加个选项便可以解决问题了（–allow-unrelated-histories）。
git pull origin master --allow-unrelated-historie</p></section><footer class=entry-footer>November 12, 2018&nbsp;·&nbsp;1 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to git 提示无法 pull 仓库（refusing-to-merge-unrelated-histories）" href=https://vdorchan.github.io/posts/git-refusing-to-merge-unrelated-histories/></a></article><article class=post-entry><header class=entry-header><h2>从 svn 迁移到 git，并保留 commit 日志</h2></header><section class=entry-content><p>之前为公司做了个基于 yeoman 的脚手架工具，公司是使用 svn 做版本控制的，所以这个工具也就使用了 svn 来记录版本。
近期想做个迁移，把它放到 github 上去，这里对迁移过程做个简单的记录。
首先，svn 地址是 http://svn.com.cn/svn/generator-pczt/ （非真实 svn 地址，这里做个举例）
该项目位置在 svn 中的 base repository，因此不涉及到 tags，branches，trunk。
用户映射 按照网上文章，先创建个文件（users.txt），做个用户映射，将 svn 的用户和 git 上的用户关联起来。
chenwudong = vdorchan &lt;vdorchan@gmail.com> git svn clone 按照文档中的命令
# --stdlayout 跟踪标准的Subversion存储库 # -authors-file 指定用户映射的文件 git svn clone --stdlayout --no-metadata -authors-file=users.txt http://svn.com.cn/svn/generator-pczt/ generator-pczt 输入上述的命令后，在 generator-pczt中创建了一个空的 git 仓库，但并没有将文件从 svn 拉下来，并且命令行输出了以下的一些信息。
Initialized empty Git repository in /Users/vdorchan/Documents/www/Learn-Yeoman/generator-pczt/.git/ Using higher level of URL: http://svn.com.cn/svn/generator-pczt => http://svn.com.cn/svn W: Ignoring error from SVN, path probably does not exist: (160013): Filesystem has no item: File not found: revision 100, path '/generator-pczt' W: Do not be alarmed at the above message git-svn is just searching aggressively for old history....</p></section><footer class=entry-footer>November 9, 2018&nbsp;·&nbsp;1 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to 从 svn 迁移到 git，并保留 commit 日志" href=https://vdorchan.github.io/posts/migrate-to-git-from-svn/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-class-extends</h2></header><section class=entry-content><p>1.简介 Class 可以通过extends关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多
class Point { } class ColorPoint extends Point { } 上面代码，ColorPoint 继承了 Point，因为没有部署代码，所以两个类是完全一样的。
子类必须在 constructor 中调用 super 方法，否则会出错。因为子类没有自己的 this 对象，所以需要 super 方法继承父类的 this 对象。
class ColorPoint extends Point { constructor(x, y, color) { super(x, y) this.color = color; } } ES5 的继承，实质是先创造子类的实例对象this，然后再将父类的方法添加到this上面（Parent.apply(this)）。ES6 的继承机制完全不同，实质是先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this。
作为子类的默认 constructor 方法
class ColorPoint extends Point { } class ColorPoint extends Point { constructor(...args) { super(...args) } 下面代码中，实例对象cp同时是ColorPoint和Point两个类的实例，这与 ES5 的行为完全一致。
let cp = new ColorPoint(25, 8, 'green'); cp instanceof ColorPoint // true cp instanceof Point // true 最后，父类的静态方法，也会被子类继承。...</p></section><footer class=entry-footer>March 9, 2018&nbsp;·&nbsp;2 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-class-extends" href=https://vdorchan.github.io/posts/learn-es6-class-extends/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-Class</h2></header><section class=entry-content><p>1.简介 JavaScript 语言中，传统的生成实例对象的方法是通过构造函数 。
function Person(name, age) { this.name = name this.age = age } Person.prototype.say = function () { console.log('my name is ' + this.name + ', i am ' + this.age + ' years old') } var person = new Person('kobe', 30) person.say() // my name is kobe, i am 30 years old ES6 引入了 Class （类）这个概念，通过 class 关键字可以定义类，写法和其它传统语言类似，可以看作是一个语法糖，新的 class 写法只是让对象原型的写法更加清晰、更像面向对象编程的语法。
class Person { contructor(name, age) { this.name = name this....</p></section><footer class=entry-footer>March 8, 2018&nbsp;·&nbsp;5 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-Class" href=https://vdorchan.github.io/posts/learn-es6-class/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-generator</h2></header><section class=entry-content><p>1. generator Generator 函数可以理解成是一个状态机，封装了多个内部状态。
执行 Generator 函数可以返回一个遍历器对象，所以说，Generator 函数还是一个遍历器对象生成函数。返回的bi an li qi</p></section><footer class=entry-footer>February 26, 2018&nbsp;·&nbsp;1 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-generator" href=https://vdorchan.github.io/posts/learn-es6-generator/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-Iterator</h2></header><section class=entry-content><p>1.Iterator（遍历器） Javascript 现有的表示集合的数据结构，出了原本的对象（Object）和数组（Array），ES6 又增加了 Set 和 Map。Iterator 是可以用来统一处理所有不同的数据结构的接口机制。任何数据结构只要部署了 Interator 接口，就可以完成遍历操作。
Iterator 的作用有三个：一是为各种数据结构，提供一个统一的、简便的访问接口；二是使得数据结构的成员能够按某种次序排列；三是 ES6 创造了一种新的遍历命令for…of循环，Iterator 接口主要供for…of消费。
Interator 的遍历过程是首先创建一个指针对象，指向当前数据结构的起始位置，然后调用指针对象的 next 方法，从数据结构的第一个成员开始，依次指向每个成员，直到指向数据结构的结束位置。
每一次调用next方法，都会返回数据结构的当前成员的信息。具体来说，就是返回一个包含value和done两个属性的对象。其中，value属性是当前成员的值，done属性是一个布尔值，表示遍历是否结束。
一个模拟 next 方法返回值的例子
const makeInterator = (array) => { let nextIndex = 0 return { next() { return nextIndex &lt; array.length ? {value: array[nextIndex++], done: false} : {value: undefined, done: true} } } } var it = makeInterator(['a', 'b']) it.next() // {value: 'a', done: false} it.next() // {value: 'b', done: false} it....</p></section><footer class=entry-footer>February 24, 2018&nbsp;·&nbsp;4 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-Iterator" href=https://vdorchan.github.io/posts/learn-es6-iterator/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-set-map</h2></header><section class=entry-content><p>1.Set ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。
Set 本身是一个构造函数，用来生成 Set 数据结构。
const s = new Set() [2, 3, 5, 4, 5, 2, 2].foreach(x => s.add(x)) for (const i of s) { console.log(i) } // 2 3 5 4 上面代码通过add方法向 Set 结构加入成员，结果表明 Set 结构不会添加重复的值。
// Set 函数可以接受一个数组（或者具有 iterable 接口的其它数据结构）作为参数， 来初始化 const set = new Set([1, 2, 3, 4, 4]) [...set] // [1 2 3 4] set.size // 4 const divSet = new Set([...document.querySelectorAll('div')]) divSet....</p></section><footer class=entry-footer>February 24, 2018&nbsp;·&nbsp;3 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-set-map" href=https://vdorchan.github.io/posts/learn-es6-set-map/></a></article><article class=post-entry><header class=entry-header><h2>Learn-ES6-object</h2></header><section class=entry-content><p>1. 属性的简洁表示法 ES6 允许直接写入变量和函数，作为对象的属性和方法。这样的书写更加简洁。
const age = 18 const person = {age} console.log(person); // {age: 18} 除了属性简写，方法也可以简写。
const Person = { sayHello() { console.log('hello'); } } // 等同于 const Person = { sayHello: function () { console.log('hello'); } } 因为简写写法的属性名始终是字符串，所以下面代码里的 class 因为是字符串，所以它不属于关键字，而导致解析错误。
const o = { class() {} } // 等同于 const o = { 'class': function () { } } 如果某个方法的值是一个 Generator 函数，前面需要加上 * 号。
const obj = { * m() { yield 'hello world' } } 2....</p></section><footer class=entry-footer>January 14, 2018&nbsp;·&nbsp;1 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to Learn-ES6-object" href=https://vdorchan.github.io/posts/learn-es6-object/></a></article><article class=post-entry><header class=entry-header><h2>学习 JavaScript 的闭包（翻译）</h2></header><section class=entry-content><p>1. 扩展运算符 闭包（Closures）: 闭包是指一个拥有很多变量和与这些变量绑定的环境的表达式（大多数时候是一个函数），这些变量也属于这个表达式。
Closures are one of the most powerful features of ECMAScript (javascript) but they cannot be property exploited without understanding them. They are, however, relatively easy to create, even accidentally, and their creation has potentially harmful consequences, particularly in some relatively common web browser environments. To avoid accidentally encountering the drawbacks and to take advantage of the benefits they offer it is necessary to understand their mechanism....</p></section><footer class=entry-footer>December 13, 2017&nbsp;·&nbsp;12 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to 学习 JavaScript 的闭包（翻译）" href=https://vdorchan.github.io/posts/learn-javascript-closures/></a></article><article class=post-entry><header class=entry-header><h2>ES6学习笔记-数组的扩展</h2></header><section class=entry-content><p>1. 扩展运算符 扩展运算符（spread）是三个点（…）。它好比 rest 参数的逆运算，将一个数组转为用逗号分隔的参数序列。
console.log(...[1, 2, 3]); // 1 2 3 console.log(1, ...[2, 3, 4], 5); // 1 2 3 4 5 [...document.querySelectorAll('div')] // [&lt;div>, &lt;div>, &lt;div>] 该运算符可以将一个数组变为参数序列。
function push(array, ...items) { array.push(...items) } function add(x, y) { return x + y } const number = [2, 3] add(...number) // 5 扩展运算符后面可以放置表达式。
const arr = [ ...( x > 0 ? ['a'] : []), 'b' ] 如果扩展运算符后面是一个空数组，则不产生任何效果。...</p></section><footer class=entry-footer>October 26, 2017&nbsp;·&nbsp;5 min&nbsp;·&nbsp;vdorchan</footer><a class=entry-link aria-label="post link to ES6学习笔记-数组的扩展" href=https://vdorchan.github.io/posts/learn-es6-array/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://vdorchan.github.io/posts/>« Prev Page</a>
<a class=next href=https://vdorchan.github.io/posts/page/3/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://vdorchan.github.io/>Two Cold</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>